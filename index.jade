//output:index.html, pretty:true

head
  title Portfolio
  link(rel="stylesheet", href="./scss/css/portfolio.css", type="text/css")
  link(rel="stylesheet", href="https://fonts.googleapis.com/css?family=Oxygen")
  script(src="./coffeescripts/js/portfolio.js")
  script(src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.11.4/paper-full.js")
  script(src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.4/howler.js")
  script(type="text/paperscript" canvas="myCanvas").
      //paperscript cannot be used in external .js
      var shapes = [];
      
      function onKeyDown(event){
        var randomSize= Math.floor(Math.random() * 40) + 5;
        var maxPoint = new Point(0, view.size.height);
        var randomPoint = Point.random();
        var point = maxPoint * randomPoint;
        var newShape = new Path.Rectangle(new Point(point), randomSize);
        newShape.strokeColor = 'rgb(' + (Math.floor(Math.random() * 256)) + ',' + (Math.floor(Math.random() * 256)) + ',' + (Math.floor(Math.random() * 256)) + ')';
        shapes.push(newShape);
      }

      function onFrame(event) {
        for(var i = 0; i < shapes.length; i++){
          shapes[i].rotate(2);
          shapes[i].strokeColor.hue += 1;
          shapes[i].position.x += shapes[i].bounds.width / 40;
          if(shapes[i].bounds.left > view.size.width){
            shapes[i].remove();
          }
        }
      }
  
body
  div.border
  div.overlay
    div.container(resize='')
      h1 Phillip Rognerud
  canvas#myCanvas(resize='')
